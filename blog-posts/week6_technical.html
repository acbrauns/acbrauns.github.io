<!DOCTYPE html>
<html>
	<head>
		<meta charset = "utf-8">
		<link rel="stylesheet" type="text/css" href="../stylesheets/general_template.css">
		<title>Get With the Programming | Home</title>
	</head>

	<body>

	<div id="wrapper">
		<div class="top_stripe width100">
					<header class = "centered_content">
					 <table>
	                   <tr>
	                        <td><a href="../index.html"><p class="bracket"><b>[</b></p></a></td>
	                        <td><a href="../index.html"><p class="bracket"><p id="header_text"><span class="getwiththe_text">GET WITH THE</span><br><span class="program_text">PROGRAM</span></p></a></td>
	                        <td><a href="../index.html"><p class="bracket"><b>]</b></p></a></td>
	                        <td><p id="header_subtitle">TOUGHENING UP ON CODING AND LIFE</p></td>
	                    </tr>
                    </table>
				</header>	
		</div>
		<div class="gray_strip width100"></div>

		<div class="footer gray_strip width100"><p>Copyright &copy 2014. All Rights Reserved.</p></div>

		

		<div class = "main centered_content">

			<div class="content">
			
			<h1>Blocks, Procs, and Lambdas</h1>
			
		<p>So far with Ruby, we have mainly been using blocks when looping through data.  This refers to the code that is contained between curly braces or the &quotdo&quot and &quotend&quot keywords. We&#39ve seem this used with many things such as .select. Let&#39s say we have two hashes filled with names and genders, like this:</p>

	<pre>
	greendale = {"Jeff"=>:male, "Britta"=>:female, "Troy"=>:male, 
	            "Abed"=>:male, "Shirley"=>:female, "Annie"=>:female}

	parksrec = {"Ron"=>:male, "Leslie"=>:female, "April"=>:female, 
	            "Andy"=>:male, "Donna"=>:female, "Tom"=>:male}
	</pre>

		<p>What if we want to select only girls whose name starts with the letter A? We could use a block with the same code twice, like this:</p>

	<pre>
		selected_greendale = greendale.select do |name, gender|
		    gender==:female && name[0]=="A"
		end

		selected_parksrec = parksrec.select do |name, gender|
		    gender==:female && name[0]=="A"
		end
	</pre>
		

		<p>But this gets a little repetitive. One way we could you would be to create a method that we could call a number of times. But there is an even easier way to do this when a method is not necessary needed.</p>

		<p>Procs are one way to do it. The above code can be replaced with a proc like this:</p>

	<pre>
		a_women = Proc.new {|name, gender| gender==:female && name[0]=="A"}

		selected_greendale = greendale.select(&a_women)
		selected_parksrec = parksrec.select(&a_women)
	</pre>

		<p>This will give us the name &quotAnnie&quot for the some_greendale hash and &quotApril&quot for the some_parksrec hash. </p>

		<p>Essentially, Proc.new creates a new object. The code that normally appears in the block of the select method can be added instead when defining the new Proc object. The select method is then called using (&a_women) as the parameter. The & character is being used to denote that an object is being passed in.</p>

		<p>Another way of doing this would be with a lamda. These are similar to Procs, as they are objects. The syntax looks almost exactly the same, like this:</p>

	<pre>
		a_women = lambda{|name, gender| gender==:female && name[0]=="A"}

		selected_greendale = greendale.select(&a_women)
		selected_parksrec = parksrec.select(&a_women)
	</pre>

		<p>The only change was replacing &quotProc.new&quot with &quotlambda&quot in the creation of a_women. So what is the difference between lambdas and procs? We can see the difference best if we use procs and lambas inside methods. In the example below, we can use .call to call the proc and the lambda immediately after they have been created.</p>

	<pre>
		def lambda_method
			 lambda { return "inside the lambda block" }.call
			 return "inside the lambda method"
		end

		def proc_method
			 Proc.new { return "inside the proc block" }.call
			 return "inside the proc method"
		end

		p lambda_method
		p proc_method
	</pre>

		<p>The output of the code above is:</p>

	<pre>
		"inside the lambda method"
		"inside the proc block"
	</pre>

		<p>When a lambda has a return, it passes control back to the calling method. But when a proc has a return, it returns and then breaks, without executing the rest of the method. In short, blocks, procs, and lambdas all work for iterating through data, but procs and lambdas can make a block reusable without having to define it in a method. </p>




			</div>

		

			<table class="sidebar" >
               	<tr>
                    <td class="computer"><img src="../images/computer_gray_resized.png"></td>
                    <td><p><a href="../technical_blogs.html"><b>Tech Blog Posts</b></a></p></td>
                </tr>
                <tr>
                    <td class="people"><img src="../images/people_gray_resized.png"></td>
                    <td><p><a href="../cultural_blogs.html"><b>Culture Blog Posts</b></a></p></td>
                </tr>
                <tr>
                    <td class="heartplus"><img src="../images/heartplus_gray_resized.png"></td>
                    <td><p><a href="../morale_boosts.html"><b>Morale Boosts</b></a></p></td>
                </tr>
               	<tr>
                    <td class="questionmark"><img src="../images/questionmark_gray_resized.png"></td>
                    <td><p><a href="../about.html"><b>About</b></a></p></td>
                </tr>
	     
            </table>
			
		</div>
				
	</div>



	</body>
</html>
